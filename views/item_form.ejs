<!DOCTYPE html>
<html>

<%- include('components/head') %>

<body>
    <%- include('components/header') %>

    <div style="display: flex;">
        <%- include('components/sidebar') %>

        <form action="" method="POST">
            <h1><%= title %></h1>
            <hr>
            <div class="form-group">
                <label>Name</label>
                <input type="text" name="name" maxlength="50" required value=<%= item === undefined ? '' : item.name %>>
            </div>
            <div class="form-group">
                <label>Description</label>
                <textarea name="description" cols="30" rows="10"
                    required><%= item === undefined ? '' : item.description %></textarea>
            </div>
            <div class="form-group">
                <label>Category</label>
                <select name="category" required>
                    <% for (const category of categories) { %>
                    <% if (item === undefined) {%>
                    <option value=<%= category._id %>>
                        <%= category.name %>
                    </option>

                    <% } else { %>
                    <option value=<%= category._id %>
                        <%= category._id.toString() === item.category.toString() ? 'selected' : '' %>>
                        <%= category.name %>
                    </option>
                    <% } %>
                    <% } %>
                </select>
            </div>
            <div class="form-group">
                <label>Price ($)</label>
                <input type="number" name="price" min="0" step="0.01" required
                    value=<%= item === undefined ? '' : item.price %>>
            </div>
            <div class="form-group">
                <label>Number in stock</label>
                <input type="number" name="number" min="0" required value=<%= item === undefined ? '' : item.number %>>
            </div>
            <div class="errors">
                <% if (errors !== undefined) {%>
                <ul>
                    <% for (const error of errors) { %>
                    <li>
                        <%= error.msg %>
                    </li>
                    <% } %>
                </ul>
                <% } %>
            </div>
            <hr>
            <button><%= title.split(' ')[0] %></button>
        </form>
    </div>
</body>

</html>